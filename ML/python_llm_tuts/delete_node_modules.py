import os
import shutil

def delete_app_build_folders(root_dir):
    # Walk through all directories in the given root directory
    for dirpath, dirnames, filenames in os.walk(root_dir):
        # Check if 'app' is in the current path and contains a 'build' subdirectory
        print(f"Processing directory: {dirpath}")
        if 'node_modules' in dirnames:
            build_path = os.path.join(dirpath, 'node_modules')
            if os.path.exists(build_path):
                print(f"Deleting: {build_path}")
                # Remove the 'build' directory inside 'app'
                try:
                    shutil.rmtree(build_path)
                    print(f"Successfully deleted: {build_path}")
                except Exception as e:
                    print(f"Error deleting {build_path}: {e}")

if __name__ == "__main__":
    # Replace 'your_directory_path' with the root directory you want to scan
    root_directory = input("Enter the path to the root directory: ")
    if os.path.exists(root_directory) and os.path.isdir(root_directory):
        delete_app_build_folders(root_directory)
    else:
        print("Invalid directory path. Please check and try again.")
